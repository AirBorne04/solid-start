---
section: core-concepts
title: Data loading
order: 3
---

# Data loading

What's a modern app without some data to power it. SolidStart aims to make it easy to load data from from data sources. It will help you keep your UI always uptote date with your data. 

For most your data requirements, you will likely be using the route as the indicator of what data to load. This is because the route is the primary way of navigating your app. SolidStart start already has nested routing to help structure your apps in a heirarchical way. Each route comes with the ability to export its own `routeData` function that will be managed my the router. Yeah, the router is also the data manager.

Solid has a [`createResource`][createResource] primitive that takes an async function and returns a [signal][signal] from it. Its a great starting place for your data needs. It integrates with Suspense and ErrorBoundary to help you manage your lifecycle. 

Lets take a look at how we can use this to load data from a third party API for our app.

```tsx twoslash

import { createResource } from "solid-js";

export function routeData() {
  const [students] = createResource(async () => {
    const response = await fetch("https://hogwarts.deno.dev/students");
    return await response.json();
  });

  return { students };
}

```

Now your component can use the `useRouteData` function to access the data that is returned by `routeData`.

```tsx twoslash filename="src/pages/students/index.tsx" bad
import { For, Accessor, createResource } from "solid-js";
import { useRouteData } from "solid-start";

type Student = { name: string; house: string; }

export function routeData() {
  const [students] = createResource<Student[]>(async () => {
    const response = await fetch("https://hogwarts.deno.dev/students");
    return await response.json();
  });

  return { students };
}

export function Page() {
  const { students } = useRouteData<ReturnType<typeof routeData>>();

  return (
    <ul>
      <For each={students()}>
        {(student) => <li>{student.name}</li>}
      </For>
    </ul>
  );
}

```

Lets try to understand when the `routeData` is called and why you should setup resources (or use our helpers) inside it. 

When rendering on the server, for each segment along the requested path, the routeData functions are called, parent-first. This means that if you have a route `/users/[id].tsx` and a route `/users.tsx` then the routeData for `/users.tsx` will be called first. The return value will be passed down as the `data` field in routeData arguments.  This is because the routeData for `/users/:id` will be called with the `id` parameter. 

When rendering on the client, the routeData function is called when the route is first rendered. This is because the routeData function is called with the current route parameters.


This is a great way to load data, but it can be a bit verbose. SolidStart provides a few hooks to make this easier.

[createResource]: https://www.solidjs.com/docs/latest/api#createresource
[signal]: https://www.solidjs.com/docs/latest/api#createsignal